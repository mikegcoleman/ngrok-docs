import {
	ExampleHTTP,
	CelSingleVariable,
	CelWithCastingExample,
	CelWithCaptureGroups,
} from "/examples/actions/url-rewrite.mdx";

# URL Rewrite

## Overview

The URL Rewrite action allows you to transform the URL path and query parameters of the incoming request.

## Example

Use this action config in your [Traffic Policy](/docs/http/traffic-policy/index.mdx)

<ExampleHTTP />

## Behavior

When executed, this action will replace all regex matches with the configured replacement. Before regex replacement, all [cel expressions](/docs/http/traffic-policy/expressions/writing-guide/) will be interpolated and replaced with their corresponding values.

## Reference

### Supported Directions

- Inbound

### Configuration

| Type          |
| ------------- |
| `url-rewrite` |

| Parameter | &nbsp; | Description                                                                                                                                                             |
| --------- | ------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `from`    | string | A regular expression string to match inside of the URL. Also contains [cel expressions](/docs/http/traffic-policy/expressions/) outside of regular regex.               |
| `to`      | string | A regular expression string to replace the `from` match with. Also contains special [cel expressions](/docs/http/traffic-policy/expressions/) outside of regular regex. |
| `format`  | string | (default: `ngrok`). Determines interpolation format in `to`/`from` fields.                                                                                              |

## Examples

_For an exhaustive list of variables, macros, and expressions, checkout [cel expressions](/docs/http/traffic-policy/expressions/)_.

<CelSingleVariable />
<CelWithCastingExample />
<CelWithCaptureGroups />
